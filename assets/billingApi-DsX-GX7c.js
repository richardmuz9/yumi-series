import{c as r}from"./index-C42zyR5t.js";const i="https://api.yumi77965.online",s=r.create({baseURL:i,withCredentials:!0,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`,"Has-Cookie-Credentials":"include"}});s.interceptors.request.use(e=>e,e=>Promise.reject(e));s.interceptors.response.use(e=>e,async e=>{const t=e.config;if((!t.retryCount||t.retryCount<3)&&(!e.response||e.response.status>=500&&e.response.status<=599)){t.retryCount=(t.retryCount||0)+1;const o=Math.pow(2,t.retryCount-1)*500;return await new Promise(n=>setTimeout(n,o)),s(t)}return Promise.reject(e)});const l=async()=>{try{return(await s.get("/api/billing/info")).data}catch(e){throw console.error("Failed to fetch billing info:",e),e}},p=async e=>{try{return(await s.post("/api/billing/create-session",{packageId:e})).data.sessionId}catch(t){throw console.error("Failed to create payment session:",t),t}};export{p as c,l as g};
//# sourceMappingURL=billingApi-DsX-GX7c.js.map
