import{j as _,a as f,u as Cr,A as Pr,b as Er}from"./index-C42zyR5t.js";import{g as Dr,k as It,l as Nr,b as D,p as me,r as Lr,u as Hr,m as Mr}from"./vendor-IypXtaUq.js";import{I as kr,a as qr}from"./ModeToggle-BaEY7_BJ.js";import{c as jt,A as Wr}from"./AnimeCharaHelperApp-CENhVs9p.js";import{g as $r}from"./billingApi-DsX-GX7c.js";import Ar from"./WritingHelperScreen-BqjqOLFN.js";import"./ArrowBack-CLZz7F0C.js";const Tr=({modes:t,onSelect:e,userInfo:r,onClose:n})=>_("div",{className:"mode-launcher",children:[_("div",{className:"mode-launcher-header",children:[f("h2",{children:"Select Mode"}),f("button",{className:"close-btn",onClick:n,children:"âœ•"})]}),f("div",{className:"mode-grid",children:t.map(i=>_("button",{className:`mode-item ${i}`,onClick:()=>e(i),children:[f("span",{className:"mode-icon",children:i==="writing"?"âœï¸":"ðŸŽ¨"}),_("div",{className:"mode-content",children:[f("span",{className:"mode-name",children:i==="writing"?"Writing Helper":"Anime Character Helper"}),f("span",{className:"mode-description",children:i==="writing"?"Create amazing content with AI assistance":"Design and generate anime characters"}),f("span",{className:"token-cost",children:"1000 TS per session"})]})]},i))}),_("div",{className:"token-info",children:[_("span",{className:"token-balance",children:["Available: ",r?`${r.tokens} TS`:"0 TS"]}),(r==null?void 0:r.blessingActive)&&f("span",{className:"blessing-active",children:"âœ¨ Yumi Blessing Active"})]})]}),ie={WINDOWS:{url:"/installers/YumiSeriesSetup.exe",filename:"YumiSeriesSetup.exe",requirements:"Requires Windows 10 or higher",features:["Offline mode","Native performance","System integration"]},MACOS:{url:"/installers/YumiSeriesInstaller.dmg",filename:"YumiSeriesInstaller.dmg",requirements:"Requires macOS 10.15 or higher",features:["Native performance","System integration"]}},_t=({icon:t,title:e,url:r,filename:n,requirements:i,features:a,isRecommended:o})=>_("div",{className:`download-card ${o?"recommended":""}`,children:[o&&f("div",{className:"recommended-badge",children:"â­ Recommended"}),f("div",{className:"download-card-icon",children:t}),_("div",{className:"download-card-content",children:[f("h3",{children:e}),f("p",{className:"requirements",children:i}),f("ul",{className:"features",children:a.map((l,s)=>_("li",{children:["âœ“ ",l]},s))}),_("a",{href:r,download:n,className:"download-button",onClick:()=>{try{window.gtag&&window.gtag("event","download",{event_category:"installer",event_label:n})}catch(l){console.error("Failed to track download:",l)}},children:["Download for ",e]})]})]}),Ir=()=>{const t=navigator.platform.toLowerCase().includes("win"),e=navigator.platform.toLowerCase().includes("mac");return _("div",{className:"download-section",children:[f("h2",{children:"Download Yumi Series"}),_("div",{className:"download-tabs",children:[f("button",{className:"tab-button active",children:"Desktop Apps"}),f("button",{className:"tab-button",children:"Mobile Apps"}),f("button",{className:"tab-button",children:"Web App"})]}),_("div",{className:"download-grid",children:[f(_t,{icon:f(kr,{size:48}),title:"Windows",url:ie.WINDOWS.url,filename:ie.WINDOWS.filename,requirements:ie.WINDOWS.requirements,features:ie.WINDOWS.features,isRecommended:t}),f(_t,{icon:f(qr,{size:48}),title:"macOS",url:ie.MACOS.url,filename:ie.MACOS.filename,requirements:ie.MACOS.requirements,features:ie.MACOS.features,isRecommended:e})]}),f("div",{className:"download-notes",children:_("p",{children:[f("strong",{children:"Note:"})," By downloading, you agree to our"," ",f("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})," ","and"," ",f("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]})})]})};var Bt={exports:{}},we={},Ge={exports:{}};(function(t,e){(function(r,n){n(e)})(Dr,function(r){function n(h){return function(k,L,H,T,F,V,I){return h(k,L,I)}}function i(h){return function(k,L,H,T){if(!k||!L||typeof k!="object"||typeof L!="object")return h(k,L,H,T);var F=T.get(k),V=T.get(L);if(F&&V)return F===L&&V===k;T.set(k,L),T.set(L,k);var I=h(k,L,H,T);return T.delete(k),T.delete(L),I}}function a(h,w){var k={};for(var L in h)k[L]=h[L];for(var L in w)k[L]=w[L];return k}function o(h){return h.constructor===Object||h.constructor==null}function l(h){return typeof h.then=="function"}function s(h,w){return h===w||h!==h&&w!==w}var c="[object Arguments]",u="[object Boolean]",d="[object Date]",p="[object RegExp]",g="[object Map]",y="[object Number]",O="[object Object]",R="[object Set]",m="[object String]",A=Object.prototype.toString;function P(h){var w=h.areArraysEqual,k=h.areDatesEqual,L=h.areMapsEqual,H=h.areObjectsEqual,T=h.areRegExpsEqual,F=h.areSetsEqual,V=h.createIsNestedEqual,I=V(Z);function Z($,j,Q){if($===j)return!0;if(!$||!j||typeof $!="object"||typeof j!="object")return $!==$&&j!==j;if(o($)&&o(j))return H($,j,I,Q);var Rt=Array.isArray($),St=Array.isArray(j);if(Rt||St)return Rt===St&&w($,j,I,Q);var ee=A.call($);return ee!==A.call(j)?!1:ee===d?k($,j,I,Q):ee===p?T($,j,I,Q):ee===g?L($,j,I,Q):ee===R?F($,j,I,Q):ee===O||ee===c?l($)||l(j)?!1:H($,j,I,Q):ee===u||ee===y||ee===m?s($.valueOf(),j.valueOf()):!1}return Z}function q(h,w,k,L){var H=h.length;if(w.length!==H)return!1;for(;H-- >0;)if(!k(h[H],w[H],H,H,h,w,L))return!1;return!0}var z=i(q);function G(h,w){return s(h.valueOf(),w.valueOf())}function v(h,w,k,L){var H=h.size===w.size;if(!H)return!1;if(!h.size)return!0;var T={},F=0;return h.forEach(function(V,I){if(H){var Z=!1,$=0;w.forEach(function(j,Q){!Z&&!T[$]&&(Z=k(I,Q,F,$,h,w,L)&&k(V,j,I,Q,h,w,L))&&(T[$]=!0),$++}),F++,H=Z}}),H}var E=i(v),M="_owner",W=Object.prototype.hasOwnProperty;function K(h,w,k,L){var H=Object.keys(h),T=H.length;if(Object.keys(w).length!==T)return!1;for(var F;T-- >0;){if(F=H[T],F===M){var V=!!h.$$typeof,I=!!w.$$typeof;if((V||I)&&V!==I)return!1}if(!W.call(w,F)||!k(h[F],w[F],F,F,h,w,L))return!1}return!0}var J=i(K);function B(h,w){return h.source===w.source&&h.flags===w.flags}function Ot(h,w,k,L){var H=h.size===w.size;if(!H)return!1;if(!h.size)return!0;var T={};return h.forEach(function(F,V){if(H){var I=!1,Z=0;w.forEach(function($,j){!I&&!T[Z]&&(I=k(F,$,V,j,h,w,L))&&(T[Z]=!0),Z++}),H=I}}),H}var mr=i(Ot),Se=Object.freeze({areArraysEqual:q,areDatesEqual:G,areMapsEqual:v,areObjectsEqual:K,areRegExpsEqual:B,areSetsEqual:Ot,createIsNestedEqual:n}),_e=Object.freeze({areArraysEqual:z,areDatesEqual:G,areMapsEqual:E,areObjectsEqual:J,areRegExpsEqual:B,areSetsEqual:mr,createIsNestedEqual:n}),vr=P(Se);function yr(h,w){return vr(h,w,void 0)}var br=P(a(Se,{createIsNestedEqual:function(){return s}}));function wr(h,w){return br(h,w,void 0)}var Or=P(_e);function Rr(h,w){return Or(h,w,new WeakMap)}var Sr=P(a(_e,{createIsNestedEqual:function(){return s}}));function _r(h,w){return Sr(h,w,new WeakMap)}function zr(h){return P(a(Se,h(Se)))}function xr(h){var w=P(a(_e,h(_e)));return function(k,L,H){return H===void 0&&(H=new WeakMap),w(k,L,H)}}r.circularDeepEqual=Rr,r.circularShallowEqual=_r,r.createCustomCircularEqual=xr,r.createCustomEqual=zr,r.deepEqual=yr,r.sameValueZeroEqual=s,r.shallowEqual=wr,Object.defineProperty(r,"__esModule",{value:!0})})})(Ge,Ge.exports);var tt=Ge.exports;const rt=It(Nr);var C={},jr=function(e,r,n){return e===r?!0:e.className===r.className&&n(e.style,r.style)&&e.width===r.width&&e.autoSize===r.autoSize&&e.cols===r.cols&&e.draggableCancel===r.draggableCancel&&e.draggableHandle===r.draggableHandle&&n(e.verticalCompact,r.verticalCompact)&&n(e.compactType,r.compactType)&&n(e.layout,r.layout)&&n(e.margin,r.margin)&&n(e.containerPadding,r.containerPadding)&&e.rowHeight===r.rowHeight&&e.maxRows===r.maxRows&&e.isBounded===r.isBounded&&e.isDraggable===r.isDraggable&&e.isResizable===r.isResizable&&e.allowOverlap===r.allowOverlap&&e.preventCollision===r.preventCollision&&e.useCSSTransforms===r.useCSSTransforms&&e.transformScale===r.transformScale&&e.isDroppable===r.isDroppable&&n(e.resizeHandles,r.resizeHandles)&&n(e.resizeHandle,r.resizeHandle)&&e.onLayoutChange===r.onLayoutChange&&e.onDragStart===r.onDragStart&&e.onDrag===r.onDrag&&e.onDragStop===r.onDragStop&&e.onResizeStart===r.onResizeStart&&e.onResize===r.onResize&&e.onResizeStop===r.onResizeStop&&e.onDrop===r.onDrop&&n(e.droppingItem,r.droppingItem)&&n(e.innerRef,r.innerRef)};Object.defineProperty(C,"__esModule",{value:!0});C.bottom=nt;C.childrenEqual=Fr;C.cloneLayout=Gt;C.cloneLayoutItem=ce;C.collides=Le;C.compact=Ut;C.compactItem=Yt;C.compactType=on;C.correctBounds=Xt;C.fastPositionEqual=Ur;C.fastRGLPropsEqual=void 0;C.getAllCollisions=Vt;C.getFirstCollision=se;C.getLayoutItem=it;C.getStatics=at;C.modifyLayout=Ft;C.moveElement=be;C.moveElementAwayFromCollision=Ue;C.noop=void 0;C.perc=Xr;C.resizeItemInDirection=en;C.setTopLeft=rn;C.setTransform=tn;C.sortLayoutItems=dt;C.sortLayoutItemsByColRow=er;C.sortLayoutItemsByRowCol=Qt;C.synchronizeLayoutWithChildren=nn;C.validateLayout=an;C.withLayoutItem=Gr;var zt=tt,ye=Br(D);function Br(t){return t&&t.__esModule?t:{default:t}}function nt(t){let e=0,r;for(let n=0,i=t.length;n<i;n++)r=t[n].y+t[n].h,r>e&&(e=r);return e}function Gt(t){const e=Array(t.length);for(let r=0,n=t.length;r<n;r++)e[r]=ce(t[r]);return e}function Ft(t,e){const r=Array(t.length);for(let n=0,i=t.length;n<i;n++)e.i===t[n].i?r[n]=e:r[n]=t[n];return r}function Gr(t,e,r){let n=it(t,e);return n?(n=r(ce(n)),t=Ft(t,n),[t,n]):[t,null]}function ce(t){return{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minW:t.minW,maxW:t.maxW,minH:t.minH,maxH:t.maxH,moved:!!t.moved,static:!!t.static,isDraggable:t.isDraggable,isResizable:t.isResizable,resizeHandles:t.resizeHandles,isBounded:t.isBounded}}function Fr(t,e){return(0,zt.deepEqual)(ye.default.Children.map(t,r=>r==null?void 0:r.key),ye.default.Children.map(e,r=>r==null?void 0:r.key))&&(0,zt.deepEqual)(ye.default.Children.map(t,r=>r==null?void 0:r.props["data-grid"]),ye.default.Children.map(e,r=>r==null?void 0:r.props["data-grid"]))}C.fastRGLPropsEqual=jr;function Ur(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.width&&t.height===e.height}function Le(t,e){return!(t.i===e.i||t.x+t.w<=e.x||t.x>=e.x+e.w||t.y+t.h<=e.y||t.y>=e.y+e.h)}function Ut(t,e,r,n){const i=at(t),a=dt(t,e),o=Array(t.length);for(let l=0,s=a.length;l<s;l++){let c=ce(a[l]);c.static||(c=Yt(i,c,e,r,a,n),i.push(c)),o[t.indexOf(a[l])]=c,c.moved=!1}return o}const Yr={x:"w",y:"h"};function Fe(t,e,r,n){const i=Yr[n];e[n]+=1;const a=t.map(o=>o.i).indexOf(e.i);for(let o=a+1;o<t.length;o++){const l=t[o];if(!l.static){if(l.y>e.y+e.h)break;Le(e,l)&&Fe(t,l,r+e[i],n)}}e[n]=r}function Yt(t,e,r,n,i,a){const o=r==="vertical",l=r==="horizontal";if(o)for(e.y=Math.min(nt(t),e.y);e.y>0&&!se(t,e);)e.y--;else if(l)for(;e.x>0&&!se(t,e);)e.x--;let s;for(;(s=se(t,e))&&!(r===null&&a);)if(l?Fe(i,e,s.x+s.w,"x"):Fe(i,e,s.y+s.h,"y"),l&&e.x+e.w>n)for(e.x=n-e.w,e.y++;e.x>0&&!se(t,e);)e.x--;return e.y=Math.max(e.y,0),e.x=Math.max(e.x,0),e}function Xt(t,e){const r=at(t);for(let n=0,i=t.length;n<i;n++){const a=t[n];if(a.x+a.w>e.cols&&(a.x=e.cols-a.w),a.x<0&&(a.x=0,a.w=e.cols),!a.static)r.push(a);else for(;se(r,a);)a.y++}return t}function it(t,e){for(let r=0,n=t.length;r<n;r++)if(t[r].i===e)return t[r]}function se(t,e){for(let r=0,n=t.length;r<n;r++)if(Le(t[r],e))return t[r]}function Vt(t,e){return t.filter(r=>Le(r,e))}function at(t){return t.filter(e=>e.static)}function be(t,e,r,n,i,a,o,l,s){if(e.static&&e.isDraggable!==!0||e.y===n&&e.x===r)return t;`${e.i}${String(r)}${String(n)}${e.x}${e.y}`;const c=e.x,u=e.y;typeof r=="number"&&(e.x=r),typeof n=="number"&&(e.y=n),e.moved=!0;let d=dt(t,o);(o==="vertical"&&typeof n=="number"?u>=n:o==="horizontal"&&typeof r=="number"?c>=r:!1)&&(d=d.reverse());const g=Vt(d,e),y=g.length>0;if(y&&s)return Gt(t);if(y&&a)return`${e.i}`,e.x=c,e.y=u,e.moved=!1,t;for(let O=0,R=g.length;O<R;O++){const m=g[O];`${e.i}${e.x}${e.y}${m.i}${m.x}${m.y}`,!m.moved&&(m.static?t=Ue(t,m,e,i,o):t=Ue(t,e,m,i,o))}return t}function Ue(t,e,r,n,i,a){const o=i==="horizontal",l=i==="vertical",s=e.static;if(n){n=!1;const d={x:o?Math.max(e.x-r.w,0):r.x,y:l?Math.max(e.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"},p=se(t,d),g=p&&p.y+p.h>e.y,y=p&&e.x+e.w>p.x;if(p){if(g&&l)return be(t,r,void 0,e.y+1,n,s,i);if(g&&i==null)return e.y=r.y,r.y=r.y+r.h,t;if(y&&o)return be(t,e,r.x,void 0,n,s,i)}else return`${r.i}${d.x}${d.y}`,be(t,r,o?d.x:void 0,l?d.y:void 0,n,s,i)}const c=o?r.x+1:void 0,u=l?r.y+1:void 0;return c==null&&u==null?t:be(t,r,o?r.x+1:void 0,l?r.y+1:void 0,n,s,i)}function Xr(t){return t*100+"%"}const Kt=(t,e,r,n)=>t+r>n?e:r,Jt=(t,e,r)=>t<0?e:r,Zt=t=>Math.max(0,t),ot=t=>Math.max(0,t),st=(t,e,r)=>{let{left:n,height:i,width:a}=e;const o=t.top-(i-t.height);return{left:n,width:a,height:Jt(o,t.height,i),top:ot(o)}},lt=(t,e,r)=>{let{top:n,left:i,height:a,width:o}=e;return{top:n,height:a,width:Kt(t.left,t.width,o,r),left:Zt(i)}},ct=(t,e,r)=>{let{top:n,height:i,width:a}=e;const o=t.left-(a-t.width);return{height:i,width:o<0?t.width:Kt(t.left,t.width,a,r),top:ot(n),left:Zt(o)}},ut=(t,e,r)=>{let{top:n,left:i,height:a,width:o}=e;return{width:o,left:i,height:Jt(n,t.height,a),top:ot(n)}},Vr=function(){return st(arguments.length<=0?void 0:arguments[0],lt(...arguments))},Kr=function(){return st(arguments.length<=0?void 0:arguments[0],ct(...arguments))},Jr=function(){return ut(arguments.length<=0?void 0:arguments[0],lt(...arguments))},Zr=function(){return ut(arguments.length<=0?void 0:arguments[0],ct(...arguments))},Qr={n:st,ne:Vr,e:lt,se:Jr,s:ut,sw:Zr,w:ct,nw:Kr};function en(t,e,r,n){const i=Qr[t];return i?i(e,{...e,...r},n):r}function tn(t){let{top:e,left:r,width:n,height:i}=t;const a=`translate(${r}px,${e}px)`;return{transform:a,WebkitTransform:a,MozTransform:a,msTransform:a,OTransform:a,width:`${n}px`,height:`${i}px`,position:"absolute"}}function rn(t){let{top:e,left:r,width:n,height:i}=t;return{top:`${e}px`,left:`${r}px`,width:`${n}px`,height:`${i}px`,position:"absolute"}}function dt(t,e){return e==="horizontal"?er(t):e==="vertical"?Qt(t):t}function Qt(t){return t.slice(0).sort(function(e,r){return e.y>r.y||e.y===r.y&&e.x>r.x?1:e.y===r.y&&e.x===r.x?0:-1})}function er(t){return t.slice(0).sort(function(e,r){return e.x>r.x||e.x===r.x&&e.y>r.y?1:-1})}function nn(t,e,r,n,i){t=t||[];const a=[];ye.default.Children.forEach(e,l=>{if((l==null?void 0:l.key)==null)return;const s=it(t,String(l.key)),c=l.props["data-grid"];s&&c==null?a.push(ce(s)):c?a.push(ce({...c,i:l.key})):a.push(ce({w:1,h:1,x:0,y:nt(a),i:String(l.key)}))});const o=Xt(a,{cols:r});return i?o:Ut(o,n,r)}function an(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const r=["x","y","w","h"];if(!Array.isArray(t))throw new Error(e+" must be an array!");for(let n=0,i=t.length;n<i;n++){const a=t[n];for(let o=0;o<r.length;o++){const l=r[o],s=a[l];if(typeof s!="number"||Number.isNaN(s))throw new Error(`ReactGridLayout: ${e}[${n}].${l} must be a number! Received: ${s} (${typeof s})`)}if(typeof a.i<"u"&&typeof a.i!="string")throw new Error(`ReactGridLayout: ${e}[${n}].i must be a string! Received: ${a.i} (${typeof a.i})`)}}function on(t){const{verticalCompact:e,compactType:r}=t||{};return e===!1?null:r}const sn=()=>{};C.noop=sn;var re={};Object.defineProperty(re,"__esModule",{value:!0});re.calcGridColWidth=He;re.calcGridItemPosition=ln;re.calcGridItemWHPx=Ye;re.calcWH=un;re.calcXY=cn;re.clamp=le;function He(t){const{margin:e,containerPadding:r,containerWidth:n,cols:i}=t;return(n-e[0]*(i-1)-r[0]*2)/i}function Ye(t,e,r){return Number.isFinite(t)?Math.round(e*t+Math.max(0,t-1)*r):t}function ln(t,e,r,n,i,a){const{margin:o,containerPadding:l,rowHeight:s}=t,c=He(t),u={};return a&&a.resizing?(u.width=Math.round(a.resizing.width),u.height=Math.round(a.resizing.height)):(u.width=Ye(n,c,o[0]),u.height=Ye(i,s,o[1])),a&&a.dragging?(u.top=Math.round(a.dragging.top),u.left=Math.round(a.dragging.left)):a&&a.resizing&&typeof a.resizing.top=="number"&&typeof a.resizing.left=="number"?(u.top=Math.round(a.resizing.top),u.left=Math.round(a.resizing.left)):(u.top=Math.round((s+o[1])*r+l[1]),u.left=Math.round((c+o[0])*e+l[0])),u}function cn(t,e,r,n,i){const{margin:a,containerPadding:o,cols:l,rowHeight:s,maxRows:c}=t,u=He(t);let d=Math.round((r-o[0])/(u+a[0])),p=Math.round((e-o[1])/(s+a[1]));return d=le(d,0,l-n),p=le(p,0,c-i),{x:d,y:p}}function un(t,e,r,n,i,a){const{margin:o,maxRows:l,cols:s,rowHeight:c}=t,u=He(t);let d=Math.round((e+o[0])/(u+o[0])),p=Math.round((r+o[1])/(c+o[1])),g=le(d,0,s-n),y=le(p,0,l-i);return["sw","w","nw"].indexOf(a)!==-1&&(g=le(d,0,s)),["nw","n","ne"].indexOf(a)!==-1&&(y=le(p,0,l)),{w:g,h:y}}function le(t,e,r){return Math.max(Math.min(t,r),e)}var Me={},ke={exports:{}},Oe={},ft={};ft.__esModule=!0;ft.cloneElement=mn;var dn=fn(D);function fn(t){return t&&t.__esModule?t:{default:t}}function xt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xt(Object(r),!0).forEach(function(n){pn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pn(t,e,r){return e=hn(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hn(t){var e=gn(t,"string");return typeof e=="symbol"?e:String(e)}function gn(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mn(t,e){return e.style&&t.props.style&&(e.style=Ct(Ct({},t.props.style),e.style)),e.className&&t.props.className&&(e.className=t.props.className+" "+e.className),dn.default.cloneElement(t,e)}var Re={};Re.__esModule=!0;Re.resizableProps=void 0;var S=vn(me);function vn(t){return t&&t.__esModule?t:{default:t}}var yn={axis:S.default.oneOf(["both","x","y","none"]),className:S.default.string,children:S.default.element.isRequired,draggableOpts:S.default.shape({allowAnyClick:S.default.bool,cancel:S.default.string,children:S.default.node,disabled:S.default.bool,enableUserSelectHack:S.default.bool,offsetParent:S.default.node,grid:S.default.arrayOf(S.default.number),handle:S.default.string,nodeRef:S.default.object,onStart:S.default.func,onDrag:S.default.func,onStop:S.default.func,onMouseDown:S.default.func,scale:S.default.number}),height:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(i.axis==="both"||i.axis==="y"){var a;return(a=S.default.number).isRequired.apply(a,r)}return S.default.number.apply(S.default,r)},handle:S.default.oneOfType([S.default.node,S.default.func]),handleSize:S.default.arrayOf(S.default.number),lockAspectRatio:S.default.bool,maxConstraints:S.default.arrayOf(S.default.number),minConstraints:S.default.arrayOf(S.default.number),onResizeStop:S.default.func,onResizeStart:S.default.func,onResize:S.default.func,resizeHandles:S.default.arrayOf(S.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:S.default.number,width:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(i.axis==="both"||i.axis==="x"){var a;return(a=S.default.number).isRequired.apply(a,r)}return S.default.number.apply(S.default,r)}};Re.resizableProps=yn;Oe.__esModule=!0;Oe.default=void 0;var ve=Sn(D),bn=jt,wn=ft,On=Re,Rn=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function tr(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(tr=function(i){return i?r:e})(t)}function Sn(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=tr(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=i?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}function Xe(){return Xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xe.apply(this,arguments)}function _n(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Te(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pt(Object(r),!0).forEach(function(n){zn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zn(t,e,r){return e=xn(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xn(t){var e=Cn(t,"string");return typeof e=="symbol"?e:String(e)}function Cn(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ve(t,e)}function Ve(t,e){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ve(t,e)}var pt=function(t){Pn(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.handleRefs={},n.lastHandleRect=null,n.slack=null,n}var r=e.prototype;return r.componentWillUnmount=function(){this.resetData()},r.resetData=function(){this.lastHandleRect=this.slack=null},r.runConstraints=function(i,a){var o=this.props,l=o.minConstraints,s=o.maxConstraints,c=o.lockAspectRatio;if(!l&&!s&&!c)return[i,a];if(c){var u=this.props.width/this.props.height,d=i-this.props.width,p=a-this.props.height;Math.abs(d)>Math.abs(p*u)?a=i/u:i=a*u}var g=i,y=a,O=this.slack||[0,0],R=O[0],m=O[1];return i+=R,a+=m,l&&(i=Math.max(l[0],i),a=Math.max(l[1],a)),s&&(i=Math.min(s[0],i),a=Math.min(s[1],a)),this.slack=[R+(g-i),m+(y-a)],[i,a]},r.resizeHandler=function(i,a){var o=this;return function(l,s){var c=s.node,u=s.deltaX,d=s.deltaY;i==="onResizeStart"&&o.resetData();var p=(o.props.axis==="both"||o.props.axis==="x")&&a!=="n"&&a!=="s",g=(o.props.axis==="both"||o.props.axis==="y")&&a!=="e"&&a!=="w";if(!(!p&&!g)){var y=a[0],O=a[a.length-1],R=c.getBoundingClientRect();if(o.lastHandleRect!=null){if(O==="w"){var m=R.left-o.lastHandleRect.left;u+=m}if(y==="n"){var A=R.top-o.lastHandleRect.top;d+=A}}o.lastHandleRect=R,O==="w"&&(u=-u),y==="n"&&(d=-d);var P=o.props.width+(p?u/o.props.transformScale:0),q=o.props.height+(g?d/o.props.transformScale:0),z=o.runConstraints(P,q);P=z[0],q=z[1];var G=P!==o.props.width||q!==o.props.height,v=typeof o.props[i]=="function"?o.props[i]:null,E=i==="onResize"&&!G;v&&!E&&(l.persist==null||l.persist(),v(l,{node:c,size:{width:P,height:q},handle:a})),i==="onResizeStop"&&o.resetData()}}},r.renderResizeHandle=function(i,a){var o=this.props.handle;if(!o)return ve.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+i,ref:a});if(typeof o=="function")return o(i,a);var l=typeof o.type=="string",s=Te({ref:a},l?{}:{handleAxis:i});return ve.cloneElement(o,s)},r.render=function(){var i=this,a=this.props,o=a.children,l=a.className,s=a.draggableOpts;a.width,a.height,a.handle,a.handleSize,a.lockAspectRatio,a.axis,a.minConstraints,a.maxConstraints,a.onResize,a.onResizeStop,a.onResizeStart;var c=a.resizeHandles;a.transformScale;var u=_n(a,Rn);return(0,wn.cloneElement)(o,Te(Te({},u),{},{className:(l?l+" ":"")+"react-resizable",children:[].concat(o.props.children,c.map(function(d){var p,g=(p=i.handleRefs[d])!=null?p:i.handleRefs[d]=ve.createRef();return ve.createElement(bn.DraggableCore,Xe({},s,{nodeRef:g,key:"resizableHandle-"+d,onStop:i.resizeHandler("onResizeStop",d),onStart:i.resizeHandler("onResizeStart",d),onDrag:i.resizeHandler("onResize",d)}),i.renderResizeHandle(d,g))}))}))},e}(ve.Component);Oe.default=pt;pt.propTypes=On.resizableProps;pt.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var qe={};qe.__esModule=!0;qe.default=void 0;var Ie=Hn(D),En=rr(me),Dn=rr(Oe),Nn=Re,Ln=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function rr(t){return t&&t.__esModule?t:{default:t}}function nr(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(nr=function(i){return i?r:e})(t)}function Hn(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=nr(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=i?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}function Ke(){return Ke=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ke.apply(this,arguments)}function Et(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Et(Object(r),!0).forEach(function(n){Mn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mn(t,e,r){return e=kn(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kn(t){var e=qn(t,"string");return typeof e=="symbol"?e:String(e)}function qn(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wn(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function $n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Je(t,e)}function Je(t,e){return Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Je(t,e)}var ir=function(t){$n(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.state={width:n.props.width,height:n.props.height,propsWidth:n.props.width,propsHeight:n.props.height},n.onResize=function(l,s){var c=s.size;n.props.onResize?(l.persist==null||l.persist(),n.setState(c,function(){return n.props.onResize&&n.props.onResize(l,s)})):n.setState(c)},n}e.getDerivedStateFromProps=function(i,a){return a.propsWidth!==i.width||a.propsHeight!==i.height?{width:i.width,height:i.height,propsWidth:i.width,propsHeight:i.height}:null};var r=e.prototype;return r.render=function(){var i=this.props,a=i.handle,o=i.handleSize;i.onResize;var l=i.onResizeStart,s=i.onResizeStop,c=i.draggableOpts,u=i.minConstraints,d=i.maxConstraints,p=i.lockAspectRatio,g=i.axis;i.width,i.height;var y=i.resizeHandles,O=i.style,R=i.transformScale,m=Wn(i,Ln);return Ie.createElement(Dn.default,{axis:g,draggableOpts:c,handle:a,handleSize:o,height:this.state.height,lockAspectRatio:p,maxConstraints:d,minConstraints:u,onResizeStart:l,onResize:this.onResize,onResizeStop:s,resizeHandles:y,transformScale:R,width:this.state.width},Ie.createElement("div",Ke({},m,{style:Pe(Pe({},O),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},e}(Ie.Component);qe.default=ir;ir.propTypes=Pe(Pe({},Nn.resizableProps),{},{children:En.default.element});ke.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};ke.exports.Resizable=Oe.default;ke.exports.ResizableBox=qe.default;var An=ke.exports,ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.resizeHandleType=ne.resizeHandleAxesType=ne.default=void 0;var x=ar(me),Tn=ar(D);function ar(t){return t&&t.__esModule?t:{default:t}}const In=ne.resizeHandleAxesType=x.default.arrayOf(x.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),jn=ne.resizeHandleType=x.default.oneOfType([x.default.node,x.default.func]);ne.default={className:x.default.string,style:x.default.object,width:x.default.number,autoSize:x.default.bool,cols:x.default.number,draggableCancel:x.default.string,draggableHandle:x.default.string,verticalCompact:function(t){t.verticalCompact},compactType:x.default.oneOf(["vertical","horizontal"]),layout:function(t){var e=t.layout;e!==void 0&&C.validateLayout(e,"layout")},margin:x.default.arrayOf(x.default.number),containerPadding:x.default.arrayOf(x.default.number),rowHeight:x.default.number,maxRows:x.default.number,isBounded:x.default.bool,isDraggable:x.default.bool,isResizable:x.default.bool,allowOverlap:x.default.bool,preventCollision:x.default.bool,useCSSTransforms:x.default.bool,transformScale:x.default.number,isDroppable:x.default.bool,resizeHandles:In,resizeHandle:jn,onLayoutChange:x.default.func,onDragStart:x.default.func,onDrag:x.default.func,onDragStop:x.default.func,onResizeStart:x.default.func,onResize:x.default.func,onResizeStop:x.default.func,onDrop:x.default.func,droppingItem:x.default.shape({i:x.default.string.isRequired,w:x.default.number.isRequired,h:x.default.number.isRequired}),children:function(t,e){const r=t[e],n={};Tn.default.Children.forEach(r,function(i){if((i==null?void 0:i.key)!=null){if(n[i.key])throw new Error('Duplicate child key "'+i.key+'" found! This will cause problems in ReactGridLayout.');n[i.key]=!0}})},innerRef:x.default.any};Object.defineProperty(Me,"__esModule",{value:!0});Me.default=void 0;var de=ht(D),Dt=Lr,N=ht(me),Bn=jt,Gn=An,fe=C,U=re,Nt=ne,Fn=ht(rt);function ht(t){return t&&t.__esModule?t:{default:t}}function te(t,e,r){return e=Un(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Un(t){var e=Yn(t,"string");return typeof e=="symbol"?e:String(e)}function Yn(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class gt extends de.default.Component{constructor(){super(...arguments),te(this,"state",{resizing:null,dragging:null,className:""}),te(this,"elementRef",de.default.createRef()),te(this,"onDragStart",(e,r)=>{let{node:n}=r;const{onDragStart:i,transformScale:a}=this.props;if(!i)return;const o={top:0,left:0},{offsetParent:l}=n;if(!l)return;const s=l.getBoundingClientRect(),c=n.getBoundingClientRect(),u=c.left/a,d=s.left/a,p=c.top/a,g=s.top/a;o.left=u-d+l.scrollLeft,o.top=p-g+l.scrollTop,this.setState({dragging:o});const{x:y,y:O}=(0,U.calcXY)(this.getPositionParams(),o.top,o.left,this.props.w,this.props.h);return i.call(this,this.props.i,y,O,{e,node:n,newPosition:o})}),te(this,"onDrag",(e,r,n)=>{let{node:i,deltaX:a,deltaY:o}=r;const{onDrag:l}=this.props;if(!l)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let s=this.state.dragging.top+o,c=this.state.dragging.left+a;const{isBounded:u,i:d,w:p,h:g,containerWidth:y}=this.props,O=this.getPositionParams();if(u){const{offsetParent:P}=i;if(P){const{margin:q,rowHeight:z,containerPadding:G}=this.props,v=P.clientHeight-(0,U.calcGridItemWHPx)(g,z,q[1]);s=(0,U.clamp)(s-G[1],0,v);const E=(0,U.calcGridColWidth)(O),M=y-(0,U.calcGridItemWHPx)(p,E,q[0]);c=(0,U.clamp)(c-G[0],0,M)}}const R={top:s,left:c};n?this.setState({dragging:R}):(0,Dt.flushSync)(()=>{this.setState({dragging:R})});const{x:m,y:A}=(0,U.calcXY)(O,s,c,p,g);return l.call(this,d,m,A,{e,node:i,newPosition:R})}),te(this,"onDragStop",(e,r)=>{let{node:n}=r;const{onDragStop:i}=this.props;if(!i)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:a,h:o,i:l}=this.props,{left:s,top:c}=this.state.dragging,u={top:c,left:s};this.setState({dragging:null});const{x:d,y:p}=(0,U.calcXY)(this.getPositionParams(),c,s,a,o);return i.call(this,l,d,p,{e,node:n,newPosition:u})}),te(this,"onResizeStop",(e,r,n)=>this.onResizeHandler(e,r,n,"onResizeStop")),te(this,"onResizeStart",(e,r,n)=>this.onResizeHandler(e,r,n,"onResizeStart")),te(this,"onResize",(e,r,n)=>this.onResizeHandler(e,r,n,"onResize"))}shouldComponentUpdate(e,r){if(this.props.children!==e.children||this.props.droppingPosition!==e.droppingPosition)return!0;const n=(0,U.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),i=(0,U.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,r);return!(0,fe.fastPositionEqual)(n,i)||this.props.useCSSTransforms!==e.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(e){this.moveDroppingItem(e)}moveDroppingItem(e){const{droppingPosition:r}=this.props;if(!r)return;const n=this.elementRef.current;if(!n)return;const i=e.droppingPosition||{left:0,top:0},{dragging:a}=this.state,o=a&&r.left!==i.left||r.top!==i.top;if(!a)this.onDragStart(r.e,{node:n,deltaX:r.left,deltaY:r.top});else if(o){const l=r.left-a.left,s=r.top-a.top;this.onDrag(r.e,{node:n,deltaX:l,deltaY:s},!0)}}getPositionParams(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}createStyle(e){const{usePercentages:r,containerWidth:n,useCSSTransforms:i}=this.props;let a;return i?a=(0,fe.setTransform)(e):(a=(0,fe.setTopLeft)(e),r&&(a.left=(0,fe.perc)(e.left/n),a.width=(0,fe.perc)(e.width/n))),a}mixinDraggable(e,r){return de.default.createElement(Bn.DraggableCore,{disabled:!r,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},e)}curryResizeHandler(e,r){return(n,i)=>r(n,i,e)}mixinResizable(e,r,n){const{cols:i,minW:a,minH:o,maxW:l,maxH:s,transformScale:c,resizeHandles:u,resizeHandle:d}=this.props,p=this.getPositionParams(),g=(0,U.calcGridItemPosition)(p,0,0,i,0).width,y=(0,U.calcGridItemPosition)(p,0,0,a,o),O=(0,U.calcGridItemPosition)(p,0,0,l,s),R=[y.width,y.height],m=[Math.min(O.width,g),Math.min(O.height,1/0)];return de.default.createElement(Gn.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:r.width,height:r.height,minConstraints:R,maxConstraints:m,onResizeStop:this.curryResizeHandler(r,this.onResizeStop),onResizeStart:this.curryResizeHandler(r,this.onResizeStart),onResize:this.curryResizeHandler(r,this.onResize),transformScale:c,resizeHandles:u,handle:d},e)}onResizeHandler(e,r,n,i){let{node:a,size:o,handle:l}=r;const s=this.props[i];if(!s)return;const{x:c,y:u,i:d,maxH:p,minH:g,containerWidth:y}=this.props,{minW:O,maxW:R}=this.props;let m=o;a&&(m=(0,fe.resizeItemInDirection)(l,n,o,y),(0,Dt.flushSync)(()=>{this.setState({resizing:i==="onResizeStop"?null:m})}));let{w:A,h:P}=(0,U.calcWH)(this.getPositionParams(),m.width,m.height,c,u,l);A=(0,U.clamp)(A,Math.max(O,1),R),P=(0,U.clamp)(P,g,p),s.call(this,d,A,P,{e,node:a,size:m,handle:l})}render(){const{x:e,y:r,w:n,h:i,isDraggable:a,isResizable:o,droppingPosition:l,useCSSTransforms:s}=this.props,c=(0,U.calcGridItemPosition)(this.getPositionParams(),e,r,n,i,this.state),u=de.default.Children.only(this.props.children);let d=de.default.cloneElement(u,{ref:this.elementRef,className:(0,Fn.default)("react-grid-item",u.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":a,"react-draggable-dragging":!!this.state.dragging,dropping:!!l,cssTransforms:s}),style:{...this.props.style,...u.props.style,...this.createStyle(c)}});return d=this.mixinResizable(d,c,o),d=this.mixinDraggable(d,a),d}}Me.default=gt;te(gt,"propTypes",{children:N.default.element,cols:N.default.number.isRequired,containerWidth:N.default.number.isRequired,rowHeight:N.default.number.isRequired,margin:N.default.array.isRequired,maxRows:N.default.number.isRequired,containerPadding:N.default.array.isRequired,x:N.default.number.isRequired,y:N.default.number.isRequired,w:N.default.number.isRequired,h:N.default.number.isRequired,minW:function(t,e){const r=t[e];if(typeof r!="number")return new Error("minWidth not Number");if(r>t.w||r>t.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(t,e){const r=t[e];if(typeof r!="number")return new Error("maxWidth not Number");if(r<t.w||r<t.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(t,e){const r=t[e];if(typeof r!="number")return new Error("minHeight not Number");if(r>t.h||r>t.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(t,e){const r=t[e];if(typeof r!="number")return new Error("maxHeight not Number");if(r<t.h||r<t.minH)return new Error("maxHeight smaller than item height/minHeight")},i:N.default.string.isRequired,resizeHandles:Nt.resizeHandleAxesType,resizeHandle:Nt.resizeHandleType,onDragStop:N.default.func,onDragStart:N.default.func,onDrag:N.default.func,onResizeStop:N.default.func,onResizeStart:N.default.func,onResize:N.default.func,isDraggable:N.default.bool.isRequired,isResizable:N.default.bool.isRequired,isBounded:N.default.bool.isRequired,static:N.default.bool,useCSSTransforms:N.default.bool.isRequired,transformScale:N.default.number,className:N.default.string,handle:N.default.string,cancel:N.default.string,droppingPosition:N.default.shape({e:N.default.object.isRequired,left:N.default.number.isRequired,top:N.default.number.isRequired})});te(gt,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1});Object.defineProperty(we,"__esModule",{value:!0});we.default=void 0;var ae=Jn(D),je=tt,Xn=mt(rt),b=C,Vn=re,Lt=mt(Me),Kn=mt(ne);function mt(t){return t&&t.__esModule?t:{default:t}}function or(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(or=function(n){return n?r:e})(t)}function Jn(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=or(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=i?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}function Y(t,e,r){return e=Zn(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zn(t){var e=Qn(t,"string");return typeof e=="symbol"?e:String(e)}function Qn(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Ht="react-grid-layout";let sr=!1;try{sr=/firefox/i.test(navigator.userAgent)}catch{}class We extends ae.Component{constructor(){super(...arguments),Y(this,"state",{activeDrag:null,layout:(0,b.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,b.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),Y(this,"dragEnterCounter",0),Y(this,"onDragStart",(e,r,n,i)=>{let{e:a,node:o}=i;const{layout:l}=this.state,s=(0,b.getLayoutItem)(l,e);if(!s)return;const c={w:s.w,h:s.h,x:s.x,y:s.y,placeholder:!0,i:e};return this.setState({oldDragItem:(0,b.cloneLayoutItem)(s),oldLayout:l,activeDrag:c}),this.props.onDragStart(l,s,s,null,a,o)}),Y(this,"onDrag",(e,r,n,i)=>{let{e:a,node:o}=i;const{oldDragItem:l}=this.state;let{layout:s}=this.state;const{cols:c,allowOverlap:u,preventCollision:d}=this.props,p=(0,b.getLayoutItem)(s,e);if(!p)return;const g={w:p.w,h:p.h,x:p.x,y:p.y,placeholder:!0,i:e};s=(0,b.moveElement)(s,p,r,n,!0,d,(0,b.compactType)(this.props),c,u),this.props.onDrag(s,l,p,g,a,o),this.setState({layout:u?s:(0,b.compact)(s,(0,b.compactType)(this.props),c),activeDrag:g})}),Y(this,"onDragStop",(e,r,n,i)=>{let{e:a,node:o}=i;if(!this.state.activeDrag)return;const{oldDragItem:l}=this.state;let{layout:s}=this.state;const{cols:c,preventCollision:u,allowOverlap:d}=this.props,p=(0,b.getLayoutItem)(s,e);if(!p)return;s=(0,b.moveElement)(s,p,r,n,!0,u,(0,b.compactType)(this.props),c,d);const y=d?s:(0,b.compact)(s,(0,b.compactType)(this.props),c);this.props.onDragStop(y,l,p,null,a,o);const{oldLayout:O}=this.state;this.setState({activeDrag:null,layout:y,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(y,O)}),Y(this,"onResizeStart",(e,r,n,i)=>{let{e:a,node:o}=i;const{layout:l}=this.state,s=(0,b.getLayoutItem)(l,e);s&&(this.setState({oldResizeItem:(0,b.cloneLayoutItem)(s),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(l,s,s,null,a,o))}),Y(this,"onResize",(e,r,n,i)=>{let{e:a,node:o,size:l,handle:s}=i;const{oldResizeItem:c}=this.state,{layout:u}=this.state,{cols:d,preventCollision:p,allowOverlap:g}=this.props;let y=!1,O,R,m;const[A,P]=(0,b.withLayoutItem)(u,e,z=>{let G;return R=z.x,m=z.y,["sw","w","nw","n","ne"].indexOf(s)!==-1&&(["sw","nw","w"].indexOf(s)!==-1&&(R=z.x+(z.w-r),r=z.x!==R&&R<0?z.w:r,R=R<0?0:R),["ne","n","nw"].indexOf(s)!==-1&&(m=z.y+(z.h-n),n=z.y!==m&&m<0?z.h:n,m=m<0?0:m),y=!0),p&&!g&&(G=(0,b.getAllCollisions)(u,{...z,w:r,h:n,x:R,y:m}).filter(E=>E.i!==z.i).length>0,G&&(m=z.y,n=z.h,R=z.x,r=z.w,y=!1)),z.w=r,z.h=n,z});if(!P)return;O=A,y&&(O=(0,b.moveElement)(A,P,R,m,!0,this.props.preventCollision,(0,b.compactType)(this.props),d,g));const q={w:P.w,h:P.h,x:P.x,y:P.y,static:!0,i:e};this.props.onResize(O,c,P,q,a,o),this.setState({layout:g?O:(0,b.compact)(O,(0,b.compactType)(this.props),d),activeDrag:q})}),Y(this,"onResizeStop",(e,r,n,i)=>{let{e:a,node:o}=i;const{layout:l,oldResizeItem:s}=this.state,{cols:c,allowOverlap:u}=this.props,d=(0,b.getLayoutItem)(l,e),p=u?l:(0,b.compact)(l,(0,b.compactType)(this.props),c);this.props.onResizeStop(p,s,d,null,a,o);const{oldLayout:g}=this.state;this.setState({activeDrag:null,layout:p,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(p,g)}),Y(this,"onDragOver",e=>{var A;if(e.preventDefault(),e.stopPropagation(),sr&&!((A=e.nativeEvent.target)!=null&&A.classList.contains(Ht)))return!1;const{droppingItem:r,onDropDragOver:n,margin:i,cols:a,rowHeight:o,maxRows:l,width:s,containerPadding:c,transformScale:u}=this.props,d=n==null?void 0:n(e);if(d===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const p={...r,...d},{layout:g}=this.state,y=e.currentTarget.getBoundingClientRect(),O=e.clientX-y.left,R=e.clientY-y.top,m={left:O/u,top:R/u,e};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:P,top:q}=this.state.droppingPosition;(P!=O||q!=R)&&this.setState({droppingPosition:m})}}else{const P={cols:a,margin:i,maxRows:l,rowHeight:o,containerWidth:s,containerPadding:c||i},q=(0,Vn.calcXY)(P,R,O,p.w,p.h);this.setState({droppingDOMNode:ae.createElement("div",{key:p.i}),droppingPosition:m,layout:[...g,{...p,x:q.x,y:q.y,static:!1,isDraggable:!0}]})}}),Y(this,"removeDroppingPlaceholder",()=>{const{droppingItem:e,cols:r}=this.props,{layout:n}=this.state,i=(0,b.compact)(n.filter(a=>a.i!==e.i),(0,b.compactType)(this.props),r,this.props.allowOverlap);this.setState({layout:i,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),Y(this,"onDragLeave",e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),Y(this,"onDragEnter",e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter++}),Y(this,"onDrop",e=>{e.preventDefault(),e.stopPropagation();const{droppingItem:r}=this.props,{layout:n}=this.state,i=n.find(a=>a.i===r.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(n,i,e)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(e,r){let n;return r.activeDrag?null:(!(0,je.deepEqual)(e.layout,r.propsLayout)||e.compactType!==r.compactType?n=e.layout:(0,b.childrenEqual)(e.children,r.children)||(n=r.layout),n?{layout:(0,b.synchronizeLayoutWithChildren)(n,e.children,e.cols,(0,b.compactType)(e),e.allowOverlap),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}shouldComponentUpdate(e,r){return this.props.children!==e.children||!(0,b.fastRGLPropsEqual)(this.props,e,je.deepEqual)||this.state.activeDrag!==r.activeDrag||this.state.mounted!==r.mounted||this.state.droppingPosition!==r.droppingPosition}componentDidUpdate(e,r){if(!this.state.activeDrag){const n=this.state.layout,i=r.layout;this.onLayoutMaybeChanged(n,i)}}containerHeight(){if(!this.props.autoSize)return;const e=(0,b.bottom)(this.state.layout),r=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+r*2+"px"}onLayoutMaybeChanged(e,r){r||(r=this.state.layout),(0,je.deepEqual)(r,e)||this.props.onLayoutChange(e)}placeholder(){const{activeDrag:e}=this.state;if(!e)return null;const{width:r,cols:n,margin:i,containerPadding:a,rowHeight:o,maxRows:l,useCSSTransforms:s,transformScale:c}=this.props;return ae.createElement(Lt.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:r,cols:n,margin:i,containerPadding:a||i,maxRows:l,rowHeight:o,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:s,transformScale:c},ae.createElement("div",null))}processGridItem(e,r){if(!e||!e.key)return;const n=(0,b.getLayoutItem)(this.state.layout,String(e.key));if(!n)return null;const{width:i,cols:a,margin:o,containerPadding:l,rowHeight:s,maxRows:c,isDraggable:u,isResizable:d,isBounded:p,useCSSTransforms:g,transformScale:y,draggableCancel:O,draggableHandle:R,resizeHandles:m,resizeHandle:A}=this.props,{mounted:P,droppingPosition:q}=this.state,z=typeof n.isDraggable=="boolean"?n.isDraggable:!n.static&&u,G=typeof n.isResizable=="boolean"?n.isResizable:!n.static&&d,v=n.resizeHandles||m,E=z&&p&&n.isBounded!==!1;return ae.createElement(Lt.default,{containerWidth:i,cols:a,margin:o,containerPadding:l||o,maxRows:c,rowHeight:s,cancel:O,handle:R,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:z,isResizable:G,isBounded:E,useCSSTransforms:g&&P,usePercentages:!P,transformScale:y,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:r?q:void 0,resizeHandles:v,resizeHandle:A},e)}render(){const{className:e,style:r,isDroppable:n,innerRef:i}=this.props,a=(0,Xn.default)(Ht,e),o={height:this.containerHeight(),...r};return ae.createElement("div",{ref:i,className:a,style:o,onDrop:n?this.onDrop:b.noop,onDragLeave:n?this.onDragLeave:b.noop,onDragEnter:n?this.onDragEnter:b.noop,onDragOver:n?this.onDragOver:b.noop},ae.Children.map(this.props.children,l=>this.processGridItem(l)),n&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}we.default=We;Y(We,"displayName","ReactGridLayout");Y(We,"propTypes",Kn.default);Y(We,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:b.noop,onDragStart:b.noop,onDrag:b.noop,onDragStop:b.noop,onResizeStart:b.noop,onResize:b.noop,onResizeStop:b.noop,onDrop:b.noop,onDropDragOver:b.noop});var $e={},ue={};Object.defineProperty(ue,"__esModule",{value:!0});ue.findOrGenerateResponsiveLayout=ri;ue.getBreakpointFromWidth=ei;ue.getColsFromBreakpoint=ti;ue.sortBreakpoints=vt;var ze=C;function ei(t,e){const r=vt(t);let n=r[0];for(let i=1,a=r.length;i<a;i++){const o=r[i];e>t[o]&&(n=o)}return n}function ti(t,e){if(!e[t])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return e[t]}function ri(t,e,r,n,i,a){if(t[r])return(0,ze.cloneLayout)(t[r]);let o=t[n];const l=vt(e),s=l.slice(l.indexOf(r));for(let c=0,u=s.length;c<u;c++){const d=s[c];if(t[d]){o=t[d];break}}return o=(0,ze.cloneLayout)(o||[]),(0,ze.compact)((0,ze.correctBounds)(o,{cols:i}),a,i)}function vt(t){return Object.keys(t).sort(function(r,n){return t[r]-t[n]})}Object.defineProperty($e,"__esModule",{value:!0});$e.default=void 0;var Mt=ii(D),X=lr(me),Be=tt,he=C,oe=ue,ni=lr(we);function lr(t){return t&&t.__esModule?t:{default:t}}function cr(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(cr=function(n){return n?r:e})(t)}function ii(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=cr(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=i?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}function Ze(){return Ze=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ze.apply(this,arguments)}function Ee(t,e,r){return e=ai(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ai(t){var e=oi(t,"string");return typeof e=="symbol"?e:String(e)}function oi(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const kt=t=>Object.prototype.toString.call(t);function xe(t,e){return t==null?null:Array.isArray(t)?t:t[e]}class yt extends Mt.Component{constructor(){super(...arguments),Ee(this,"state",this.generateInitialState()),Ee(this,"onLayoutChange",e=>{this.props.onLayoutChange(e,{...this.props.layouts,[this.state.breakpoint]:e})})}generateInitialState(){const{width:e,breakpoints:r,layouts:n,cols:i}=this.props,a=(0,oe.getBreakpointFromWidth)(r,e),o=(0,oe.getColsFromBreakpoint)(a,i),l=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,oe.findOrGenerateResponsiveLayout)(n,r,a,a,o,l),breakpoint:a,cols:o}}static getDerivedStateFromProps(e,r){if(!(0,Be.deepEqual)(e.layouts,r.layouts)){const{breakpoint:n,cols:i}=r;return{layout:(0,oe.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,i,e.compactType),layouts:e.layouts}}return null}componentDidUpdate(e){(this.props.width!=e.width||this.props.breakpoint!==e.breakpoint||!(0,Be.deepEqual)(this.props.breakpoints,e.breakpoints)||!(0,Be.deepEqual)(this.props.cols,e.cols))&&this.onWidthChange(e)}onWidthChange(e){const{breakpoints:r,cols:n,layouts:i,compactType:a}=this.props,o=this.props.breakpoint||(0,oe.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),l=this.state.breakpoint,s=(0,oe.getColsFromBreakpoint)(o,n),c={...i};if(l!==o||e.breakpoints!==r||e.cols!==n){l in c||(c[l]=(0,he.cloneLayout)(this.state.layout));let p=(0,oe.findOrGenerateResponsiveLayout)(c,r,o,l,s,a);p=(0,he.synchronizeLayoutWithChildren)(p,this.props.children,s,a,this.props.allowOverlap),c[o]=p,this.props.onBreakpointChange(o,s),this.props.onLayoutChange(p,c),this.setState({breakpoint:o,layout:p,cols:s})}const u=xe(this.props.margin,o),d=xe(this.props.containerPadding,o);this.props.onWidthChange(this.props.width,u,s,d)}render(){const{breakpoint:e,breakpoints:r,cols:n,layouts:i,margin:a,containerPadding:o,onBreakpointChange:l,onLayoutChange:s,onWidthChange:c,...u}=this.props;return Mt.createElement(ni.default,Ze({},u,{margin:xe(a,this.state.breakpoint),containerPadding:xe(o,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}$e.default=yt;Ee(yt,"propTypes",{breakpoint:X.default.string,breakpoints:X.default.object,allowOverlap:X.default.bool,cols:X.default.object,margin:X.default.oneOfType([X.default.array,X.default.object]),containerPadding:X.default.oneOfType([X.default.array,X.default.object]),layouts(t,e){if(kt(t[e])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+kt(t[e]));Object.keys(t[e]).forEach(r=>{if(!(r in t.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,he.validateLayout)(t.layouts[r],"layouts."+r)})},width:X.default.number.isRequired,onBreakpointChange:X.default.func,onLayoutChange:X.default.func,onWidthChange:X.default.func});Ee(yt,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:he.noop,onLayoutChange:he.noop,onWidthChange:he.noop});var bt={},ur=function(){if(typeof Map<"u")return Map;function t(e,r){var n=-1;return e.some(function(i,a){return i[0]===r?(n=a,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var n=t(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(r,n){var i=t(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},e.prototype.delete=function(r){var n=this.__entries__,i=t(n,r);~i&&n.splice(i,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];r.call(n,o[1],o[0])}},e}()}(),Qe=typeof window<"u"&&typeof document<"u"&&window.document===document,De=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),si=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(De):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),li=2;function ci(t,e){var r=!1,n=!1,i=0;function a(){r&&(r=!1,t()),n&&l()}function o(){si(a)}function l(){var s=Date.now();if(r){if(s-i<li)return;n=!0}else r=!0,n=!1,setTimeout(o,e);i=s}return l}var ui=20,di=["top","right","bottom","left","width","height","size","weight"],fi=typeof MutationObserver<"u",pi=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=ci(this.refresh.bind(this),ui)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,n=r.indexOf(e);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Qe||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),fi?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Qe||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,n=r===void 0?"":r,i=di.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),dr=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},ge=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||De},fr=Ae(0,0,0,0);function Ne(t){return parseFloat(t)||0}function qt(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(n,i){var a=t["border-"+i+"-width"];return n+Ne(a)},0)}function hi(t){for(var e=["top","right","bottom","left"],r={},n=0,i=e;n<i.length;n++){var a=i[n],o=t["padding-"+a];r[a]=Ne(o)}return r}function gi(t){var e=t.getBBox();return Ae(0,0,e.width,e.height)}function mi(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return fr;var n=ge(t).getComputedStyle(t),i=hi(n),a=i.left+i.right,o=i.top+i.bottom,l=Ne(n.width),s=Ne(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+a)!==e&&(l-=qt(n,"left","right")+a),Math.round(s+o)!==r&&(s-=qt(n,"top","bottom")+o)),!yi(t)){var c=Math.round(l+a)-e,u=Math.round(s+o)-r;Math.abs(c)!==1&&(l-=c),Math.abs(u)!==1&&(s-=u)}return Ae(i.left,i.top,l,s)}var vi=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof ge(t).SVGGraphicsElement}:function(t){return t instanceof ge(t).SVGElement&&typeof t.getBBox=="function"}}();function yi(t){return t===ge(t).document.documentElement}function bi(t){return Qe?vi(t)?gi(t):mi(t):fr}function wi(t){var e=t.x,r=t.y,n=t.width,i=t.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return dr(o,{x:e,y:r,width:n,height:i,top:r,right:e+n,bottom:i+r,left:e}),o}function Ae(t,e,r,n){return{x:t,y:e,width:r,height:n}}var Oi=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ae(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=bi(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Ri=function(){function t(e,r){var n=wi(r);dr(this,{target:e,contentRect:n})}return t}(),Si=function(){function t(e,r,n){if(this.activeObservations_=[],this.observations_=new ur,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=n}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ge(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new Oi(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ge(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new Ri(n.target,n.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),pr=typeof WeakMap<"u"?new WeakMap:new ur,hr=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=pi.getInstance(),n=new Si(e,r,this);pr.set(this,n)}return t}();["observe","unobserve","disconnect"].forEach(function(t){hr.prototype[t]=function(){var e;return(e=pr.get(this))[t].apply(e,arguments)}});var _i=function(){return typeof De.ResizeObserver<"u"?De.ResizeObserver:hr}();const zi=Object.freeze(Object.defineProperty({__proto__:null,default:_i},Symbol.toStringTag,{value:"Module"})),xi=It(zi);Object.defineProperty(bt,"__esModule",{value:!0});bt.default=Mi;var Ce=Di(D),Ci=wt(me),Pi=wt(xi),Ei=wt(rt);function wt(t){return t&&t.__esModule?t:{default:t}}function gr(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(gr=function(n){return n?r:e})(t)}function Di(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=gr(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var o=i?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}function et(){return et=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},et.apply(this,arguments)}function pe(t,e,r){return e=Ni(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ni(t){var e=Li(t,"string");return typeof e=="symbol"?e:String(e)}function Li(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Hi="react-grid-layout";function Mi(t){var e;return e=class extends Ce.Component{constructor(){super(...arguments),pe(this,"state",{width:1280}),pe(this,"elementRef",Ce.createRef()),pe(this,"mounted",!1),pe(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new Pi.default(i=>{if(this.elementRef.current instanceof HTMLElement){const o=i[0].contentRect.width;this.setState({width:o})}});const n=this.elementRef.current;n instanceof HTMLElement&&this.resizeObserver.observe(n)}componentWillUnmount(){this.mounted=!1;const n=this.elementRef.current;n instanceof HTMLElement&&this.resizeObserver.unobserve(n),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:n,...i}=this.props;return n&&!this.mounted?Ce.createElement("div",{className:(0,Ei.default)(this.props.className,Hi),style:this.props.style,ref:this.elementRef}):Ce.createElement(t,et({innerRef:this.elementRef},i,this.state))}},pe(e,"defaultProps",{measureBeforeMount:!1}),pe(e,"propTypes",{measureBeforeMount:Ci.default.bool}),e}(function(t){t.exports=we.default,t.exports.utils=C,t.exports.calculateUtils=re,t.exports.Responsive=$e.default,t.exports.Responsive.utils=ue,t.exports.WidthProvider=bt.default})(Bt);var Wt=Bt.exports;const ki=Wt.WidthProvider(Wt.Responsive),$t=[{id:"default",name:"Default Yumi",value:"url('/yumi-tusr.png')",type:"image",preview:"/yumi-tusr.png"},{id:"gradient1",name:"Purple Dream",value:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",type:"gradient",preview:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"gradient2",name:"Ocean Sunset",value:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)",type:"gradient",preview:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"},{id:"gradient3",name:"Aurora",value:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",type:"gradient",preview:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"},{id:"gradient4",name:"Midnight",value:"linear-gradient(135deg, #232526 0%, #414345 100%)",type:"gradient",preview:"linear-gradient(135deg, #232526 0%, #414345 100%)"},{id:"gradient5",name:"Cosmic",value:"linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%)",type:"gradient",preview:"linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%)"},{id:"solid1",name:"Deep Navy",value:"#1a202c",type:"solid",preview:"#1a202c"},{id:"solid2",name:"Forest",value:"#2d5016",type:"solid",preview:"#2d5016"}],At=[{i:"modes",x:0,y:0,w:8,h:6,minW:4,minH:4},{i:"charge",x:8,y:0,w:2,h:6,minW:2,minH:4,static:!0},{i:"header",x:2,y:6,w:6,h:3,minW:4,minH:2,static:!0},{i:"footer",x:0,y:9,w:10,h:1,minW:4,minH:1,static:!0}],qi=({isOpen:t,onClose:e})=>{const[r,n]=D.useState(!1),[i,a]=D.useState(At),[o,l]=D.useState("default"),[s,c]=D.useState(""),[u,d]=D.useState({modes:!0,charge:!0,header:!0,footer:!0}),[p,g]=D.useState("");D.useEffect(()=>{const v=localStorage.getItem("yumiLayout"),E=localStorage.getItem("yumiBackground"),M=localStorage.getItem("yumiPanels");if(v)try{a(JSON.parse(v))}catch{console.log("Failed to load saved layout, using default")}if(E&&(l(E),y(E)),M)try{d(JSON.parse(M))}catch{console.log("Failed to load saved panels, using default")}},[]),D.useEffect(()=>{localStorage.setItem("yumiLayout",JSON.stringify(i))},[i]),D.useEffect(()=>{localStorage.setItem("yumiBackground",o)},[o]),D.useEffect(()=>{localStorage.setItem("yumiPanels",JSON.stringify(u))},[u]);const y=(v,E)=>{const M=$t.find(K=>K.id===v),W=document.querySelector(".main-background");W&&(v==="custom"&&E?(W.style.backgroundImage=`url(${E})`,W.style.backgroundColor=""):M&&(M.type==="image"?(W.style.backgroundImage=M.value,W.style.backgroundColor=""):(W.style.backgroundImage="",W.style.background=M.value)))},O=v=>{var M;const E=(M=v.target.files)==null?void 0:M[0];if(E&&E.type.startsWith("image/")){const W=new FileReader;W.onload=K=>{var B;const J=(B=K.target)==null?void 0:B.result;c(J),l("custom"),y("custom",J),localStorage.setItem("yumiCustomBackground",J)},W.readAsDataURL(E)}},R=()=>{const v=new Date().toISOString(),E={layout:i,background:o,customBackground:s,panels:u,timestamp:v};localStorage.setItem("yumiSavedLayout",JSON.stringify(E)),g("Layout saved successfully! âœ…"),setTimeout(()=>g(""),3e3)},m=v=>{l(v),y(v)},A=v=>{const E=v.map(M=>{var W,K,J;return{i:M.i,x:M.x,y:M.y,w:M.w,h:M.h,static:((W=i.find(B=>B.i===M.i))==null?void 0:W.static)||!1,minW:(K=i.find(B=>B.i===M.i))==null?void 0:K.minW,minH:(J=i.find(B=>B.i===M.i))==null?void 0:J.minH}});a(E)},P=()=>{a([...At]),l("default"),d({modes:!0,charge:!0,header:!0,footer:!0}),y("default")},q=()=>{const v={layout:i,background:o,panels:u},E=new Blob([JSON.stringify(v,null,2)],{type:"application/json"}),M=URL.createObjectURL(E),W=document.createElement("a");W.href=M,W.download="yumi-layout.json",W.click(),URL.revokeObjectURL(M)},z=v=>{var M;const E=(M=v.target.files)==null?void 0:M[0];if(E){const W=new FileReader;W.onload=K=>{var J;try{const B=JSON.parse((J=K.target)==null?void 0:J.result);B.layout&&a(B.layout),B.background&&(l(B.background),y(B.background)),B.panels&&d(B.panels)}catch{alert("Invalid layout file")}},W.readAsText(E)}v.target.value=""},G=v=>{d(E=>({...E,[v]:!E[v]}))};return t?f("div",{className:"layout-customizer-overlay",onClick:e,children:_("div",{className:"layout-customizer-modal",onClick:v=>v.stopPropagation(),children:[_("div",{className:"customizer-header",children:[f("h2",{children:"ðŸŽ¨ Layout & Theme Customizer"}),f("button",{className:"close-btn",onClick:e,children:"Ã—"})]}),_("div",{className:"customizer-content",children:[_("div",{className:"customizer-section",children:[f("h3",{children:"ðŸ“ Layout Settings"}),_("div",{className:"layout-controls",children:[f("button",{className:`edit-btn ${r?"active":""}`,onClick:()=>n(!r),children:r?"âœ… Exit Editor":"âœï¸ Edit Layout"}),f("button",{onClick:R,className:"save-btn",children:"ðŸ’¾ Save Layout"}),p&&f("div",{className:"save-notification",children:p}),r&&_("div",{className:"edit-toolbar",children:[f("button",{onClick:P,className:"reset-btn",children:"ðŸ”„ Reset"}),f("button",{onClick:q,className:"export-btn",children:"ðŸ“¤ Export"}),_("label",{className:"import-btn",children:["ðŸ“¥ Import",f("input",{type:"file",accept:".json",onChange:z,style:{display:"none"}})]})]})]})]}),_("div",{className:"customizer-section",children:[f("h3",{children:"ðŸ‘ï¸ Panel Visibility"}),f("div",{className:"panel-toggles",children:Object.entries(u).map(([v,E])=>_("label",{className:"panel-toggle",children:[f("input",{type:"checkbox",checked:E,onChange:()=>G(v)}),f("span",{className:"toggle-text",children:v.charAt(0).toUpperCase()+v.slice(1)})]},v))})]}),_("div",{className:"customizer-section",children:[f("h3",{children:"ðŸŒˆ Background Theme"}),_("div",{className:"upload-background",children:[_("label",{className:"upload-btn",children:["ðŸ–¼ï¸ Upload Custom Background",f("input",{type:"file",accept:"image/*",onChange:O,style:{display:"none"}})]}),s&&_("div",{className:"custom-preview",children:[f("img",{src:s,alt:"Custom background",className:"custom-bg-preview"}),f("span",{children:"Custom Background Applied"})]})]}),_("div",{className:"background-grid",children:[$t.map(v=>_("div",{className:`bg-option ${o===v.id?"selected":""}`,onClick:()=>m(v.id),children:[f("div",{className:"bg-preview",style:{background:v.type==="image"?`url(${v.preview})`:v.preview,backgroundSize:v.type==="image"?"cover":"auto",backgroundPosition:"center"}}),f("span",{className:"bg-name",children:v.name})]},v.id)),s&&_("div",{className:`bg-option ${o==="custom"?"selected":""}`,onClick:()=>m("custom"),children:[f("div",{className:"bg-preview",style:{backgroundImage:`url(${s})`,backgroundSize:"cover",backgroundPosition:"center"}}),f("span",{className:"bg-name",children:"Custom"})]})]})]}),_("div",{className:"customizer-section",children:[f("h3",{children:"ðŸ” Layout Preview"}),f("div",{className:"layout-preview",children:_(ki,{className:"preview-grid",layouts:{lg:i},cols:{lg:10,md:8,sm:6,xs:4,xxs:2},rowHeight:30,isDraggable:r,isResizable:r,onLayoutChange:A,margin:[5,5],containerPadding:[0,0],children:[u.modes&&f("div",{className:"preview-panel modes-panel",children:"ðŸŽ¯ Modes Grid"},"modes"),u.charge&&f("div",{className:"preview-panel charge-panel",children:"ðŸ’Ž Charge"},"charge"),u.header&&f("div",{className:"preview-panel header-panel",children:"ðŸ“‹ Header"},"header"),u.footer&&f("div",{className:"preview-panel footer-panel",children:"ðŸ“ Footer"},"footer")]})})]})]})]})}):null},Wi=()=>{const{language:t,setLanguage:e}=Cr();return D.useEffect(()=>{const r=localStorage.getItem("language");r&&["en","ja","zh","ko"].includes(r)&&e(r)},[]),D.useEffect(()=>{localStorage.setItem("language",t)},[t]),{language:t,setLanguage:e}},Tt=t=>({tokens:t.tokens||0,dailyTokensRemaining:t.dailyTokensRemaining||0,blessingActive:t.blessingActive||!1,stripeCustomerId:t.stripeCustomerId,subscription:t.subscription,freeTokensRemaining:t.freeTokensRemaining||{openai:0,claude:0,qwen:0}}),$i=t=>t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toString(),Yi=()=>{Hr();const[t,e]=D.useState(!0),[r]=D.useState(new Set(["writing","anime"])),{t:n}=Mr("main"),[i,a]=D.useState(!1),[o,l]=D.useState(null),[s,c]=D.useState(!1),[u,d]=D.useState(!1),[p,g]=D.useState(!1),[y,O]=D.useState(!1),[R,m]=D.useState("main"),[A,P]=D.useState("");Wi(),D.useEffect(()=>{(async()=>{try{e(!0);const G=await $r();l(Tt(G))}catch(G){console.error("Failed to fetch billing info:",G)}finally{e(!1)}})()},[]);const q=async z=>{(z==="writing"||z==="anime")&&(m(z),O(!1))};return t?f("div",{className:"loading-screen",children:f("div",{className:"loading-spinner"})}):R==="writing"?f(Ar,{content:A,onContentChange:P,onBack:()=>m("main")}):R==="anime"?f(Wr,{onBack:()=>m("main")}):_("div",{className:"main-page",style:{backgroundImage:"url('/yumi-tusr.png')"},children:[_("div",{className:"top-nav-icons",children:[f("div",{className:"nav-left",children:f("button",{className:"nav-icon-btn sign-in-btn",onClick:()=>a(!0),title:"Sign In",children:"ðŸ‘¤"})}),_("div",{className:"nav-right",children:[f("button",{className:"nav-icon-btn settings-btn",onClick:()=>d(!0),title:"Settings",children:"âš™ï¸"}),f("button",{className:"nav-icon-btn download-btn",onClick:()=>c(!0),title:"Download App",children:"ðŸ“±"}),f("button",{className:"nav-icon-btn mode-list-btn",onClick:()=>O(!0),title:"Mode List",children:_("div",{className:"mode-list-icon",children:[f("span",{className:"mode-icon-writing",children:"âœï¸"}),f("span",{className:"mode-icon-anime",children:"ðŸŽ¨"})]})})]})]}),f("main",{className:"main-content",children:f("div",{className:"hero-overlay",children:_("section",{className:"hero-section",children:[_("div",{className:"yumi-series-title",children:[f("h1",{className:"yumi-text",children:"Yumi"}),f("h1",{className:"series-text",children:"Series"})]}),f("p",{className:"yumi-description",children:"Your AI-powered creative companion for writing, art, and more."})]})})}),_("div",{className:"ai-assistant-container",children:[f("button",{className:"ai-assistant-btn",onClick:()=>g(!0),title:"AI Assistant",children:"ðŸ¤–"}),!p&&f("div",{className:"ai-chat-hint",children:"Click to chat with Yumi!"})]}),f("div",{className:"charge-sidebar",children:_("button",{className:"charge-button",onClick:()=>alert("Charging feature is currently unavailable."),children:[f("div",{className:"charge-icon",children:"ðŸ’Ž"}),f("div",{className:"charge-label",children:"Charge"}),_("div",{className:"token-amount",children:[o?$i(o.tokens):"0"," TS"]})]})}),i&&f(Pr,{isOpen:i,onClose:()=>a(!1),onSuccess:z=>{l(Tt(z)),a(!1)}}),s&&f(Ir,{}),u&&f(qi,{isOpen:u,onClose:()=>d(!1),t:n}),p&&f(Er,{onClose:()=>g(!1)}),y&&f(Tr,{modes:Array.from(r),onSelect:q,userInfo:o,onClose:()=>O(!1)})]})};export{Yi as default};
//# sourceMappingURL=MainPage-D5iy2Gzd.js.map
